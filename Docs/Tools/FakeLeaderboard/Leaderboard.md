# Компонент Leaderboard

## 1. Введение

`Leaderboard` — это главный компонент для создания и управления фейковой таблицей лидеров. Его основная задача — сгенерировать список вымышленных соперников со случайными именами и очками, добавить в этот список реального игрока и отобразить все это в виде отсортированного рейтинга. 

Это мощный инструмент для однопользовательских игр, позволяющий создать иллюзию многопользовательского соревнования и мотивировать игрока улучшать свои результаты.

---

## 2. Структура данных

### LeaderboardUser
Это простой класс, который хранит данные об одном пользователе в таблице.
- `name`: Имя пользователя.
- `score`: Количество очков.
- `id`: Уникальный идентификатор.
- `num`: Позиция в таблице после сортировки.

---

## 3. Описание класса

### Leaderboard
- **Пространство имен**: `Neo.Tools` (является синглтоном)
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/FakeLeaderboard/Leaderboard.cs`

**Описание**
Этот класс является синглтоном и выступает в роли центрального менеджера всей таблицы лидеров. Он отвечает за генерацию данных, их сортировку и создание визуальных элементов в UI.

### 3.1. Настройки генерации
- `count`: Общее количество пользователей в таблице (включая фейковых и реального игрока).
- `rangeScore`: Диапазон (min, max), в котором будут генерироваться случайные очки для фейковых пользователей.
- `names`: Массив строк с именами, из которых будут случайно выбираться имена для ботов.

### 3.2. Настройки игрока
- `player`: Объект `LeaderboardUser`, представляющий реального игрока. Вы можете изменить его имя по умолчанию в инспекторе.

### 3.3. Настройки UI
- `prefab` (`LeaderboardItem`): Префаб элемента списка. Этот объект будет создан для каждой строки в таблице лидеров.
- `container` (`Transform`): Родительский объект, внутри которого будут создаваться экземпляры префаба.
- `leaderboardItemPlayer`: (Опционально) Отдельный элемент UI для отображения данных игрока вне основного списка.

---

## 4. Публичные методы и события

**Публичные методы**
- `UpdatePlayerScore(int score)`: **Основной метод для использования в игре.** Обновляет очки игрока, после чего автоматически пересортировывает всю таблицу и обновляет UI.
- `UpdatePlayerName(string newName)`: Обновляет имя игрока и пересортировывает таблицу.
- `GenerateUserList()`: Принудительно генерирует список фейковых пользователей заново.
- `Sort()`: Принудительно запускает сортировку и обновление UI.
- `GetIdPlayer()`: Возвращает текущую позицию (индекс) игрока в отсортированном списке.

**Unity Events**
- `OnSort`: Событие, которое вызывается каждый раз после завершения сортировки таблицы.

---

## 5. Зависимости

- Является синглтоном и наследуется от `Neo.Tools.Singleton<Leaderboard>`.
- Для отображения требует префаб с компонентом `LeaderboardItem`.
- Использует методы расширения `RandomRange()` и `GetRandomElement()` из пространства имен `Neo.Extensions`.
