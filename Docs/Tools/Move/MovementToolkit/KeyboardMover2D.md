# Компонент Keyboard Mover 2D

## 1. Введение

`KeyboardMover2D` — это компонент-движок для 2D-объектов, который управляется стандартными осями ввода Unity (`Horizontal` и `Vertical`). Проще говоря, он позволяет двигать персонажа или любой другой объект с помощью клавиш WASD, стрелок на клавиатуре или джойстика.

Компонент спроектирован так, чтобы работать "из коробки" и автоматически адаптироваться к наличию `Rigidbody2D` для более плавной и физически корректной работы.

---

## 2. Описание класса

### KeyboardMover2D
- **Пространство имен**: Глобальное
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Move/MovementToolkit/KeyboardMover2D.cs`
- **Реализует интерфейс**: `IMover`

**Описание**
Компонент, который в каждом кадре считывает ввод с осей `Horizontal` и `Vertical` и перемещает объект с заданной скоростью. Он является конкретной реализацией интерфейса `IMover`.

**Ключевые поля**
- `axisMode` (`AxisMode`): Определяет, как обрабатывается вектор ввода.
  - `AxisRaw`: Использует "сырые" значения осей (обычно -1, 0 или 1). Сохраняет постоянную скорость при движении по диагонали. Идеально для клавиатуры.
  - `AxisNormalized`: Нормализует вектор ввода. Это гарантирует, что скорость движения будет одинаковой во всех направлениях. Лучше подходит для аналоговых джойстиков.
- `speed` (`float`): Скорость движения объекта в юнитах в секунду.

**Unity Events**
- `OnMoveStart`: Вызывается один раз, когда объект начинает движение (когда пользователь нажимает клавишу).
- `OnMoveStop`: Вызывается один раз, когда объект останавливается (когда пользователь отпускает все клавиши).

---

## 3. Особенности работы

### Адаптация к Rigidbody2D
- **Если на объекте нет `Rigidbody2D`**: Компонент будет перемещать объект, напрямую изменяя его `transform.position` в методе `Update()`. Это просто, но может приводить к проблемам при взаимодействии с другой физикой.
- **Если на объекте есть `Rigidbody2D`**: Компонент автоматически переключится на использование физического движка. Он будет перемещать объект через `Rigidbody2D.MovePosition()` в методе `FixedUpdate()`. Это обеспечивает плавное и физически корректное движение, которое правильно взаимодействует с другими коллайдерами.

### Реализация IMover
Хотя компонент реализует интерфейс `IMover`, его основное предназначение — самоуправляемое движение от клавиатуры. Внешние вызовы его методов `MoveDelta` и `MoveToPoint` приведут к мгновенному перемещению (телепортации) объекта, а не к плавному движению.
