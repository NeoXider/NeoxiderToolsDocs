# Компонент Follow

## 1. Введение

`Follow` — это мощный и универсальный компонент для реализации логики следования одного объекта за другим. Чаще всего он используется для создания камеры, которая следует за игроком, но его гибкость позволяет применять его и для других задач: питомцы, следующие за хозяином, самонаводящиеся ракеты, элементы UI, отслеживающие объект в игровом мире, и многое другое.

Компонент поддерживает как 2D, так и 3D режимы, плавное движение и вращение, а также имеет широкие возможности по ограничению позиции и поворота.

---

## 2. Описание класса

### Follow
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Move/Follow.md`

**Описание**
Этот компонент следует размещать на объекте, который должен следовать за целью (например, на камере). В каждом кадре в `LateUpdate` (чтобы избежать дрожания) он вычисляет желаемую позицию и/или поворот и плавно перемещает свой `Transform`.

**Ключевые поля**

### Основные настройки
- `_target` (`Transform`): **Обязательное поле.** Цель, за которой нужно следовать.
- `_followMode`: Режим следования. `ThreeD` для полноценного 3D-пространства, `TwoD` для 2D-игр (в этом режиме игнорируется ось Z для позиции).

### Настройки движения
- `_followPosition`: Включить или выключить следование за позицией.
- `_useSmooth`: Если `true`, движение будет плавным (интерполяция). Если `false` — объект будет мгновенно телепортироваться в позицию цели.
- `_smoothSpeed`: Скорость сглаживания движения.
- `_offset`: Постоянное смещение относительно позиции цели. Именно так настраивается положение камеры позади и над игроком.

### Настройки вращения
- `_followRotation`: Включить или выключить следование за вращением (поворот в сторону цели).
- `_rotationSpeed`: Скорость сглаживания поворота.
- `_rotationOffset3D` / `_rotationOffset2D`: Дополнительный угол поворота, который можно задать для коррекции финального вращения.

### Ограничения
- `_positionLimitX`, `_positionLimitY`, `_positionLimitZ`: Позволяют ограничить финальную позицию объекта в заданных пределах по каждой из осей. Полезно, чтобы камера не улетала слишком высоко или низко.
- `_rotationLimitX`, `_rotationLimitY`, `_rotationLimitZ`: Аналогичные ограничения для углов поворота.

---

## 3. Пример использования (Камера за игроком)

1.  Добавьте компонент `Follow` на вашу основную камеру.
2.  В поле `_target` перетащите `Transform` вашего игрока.
3.  Установите `_followMode` в `ThreeD`.
4.  Настройте `_offset`, чтобы камера находилась на комфортном расстоянии позади и выше игрока (например, X=0, Y=5, Z=-10).
5.  Установите `_smoothSpeed` на небольшое значение (например, 1.5), чтобы камера двигалась плавно, а не дергалась за игроком.
6.  Включите `_followRotation`, чтобы камера всегда смотрела на игрока.
