# Компонент Advanced Force Applier

## 1. Введение

`AdvancedForceApplier` — это универсальный компонент для приложения физических сил к объектам. Его можно повесить на любой объект с `Rigidbody` или `Rigidbody2D`, чтобы легко добавлять импульсы, такие как отдача от удара, взрывная волна, ускорение или рывок.

Вместо того чтобы писать код для `AddForce` в каждом скрипте, где это нужно, вы можете просто вызвать публичный метод этого компонента. Это позволяет настраивать физику отталкиваний и ускорений прямо в инспекторе, а не в коде.

---

## 2. Описание класса

### AdvancedForceApplier
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Move/AdvancedForceApplier.cs`

**Описание**
Компонент, который служит единым интерфейсом для применения силы к 2D и 3D объектам. Он автоматически определяет, с каким типом `Rigidbody` имеет дело, и применяет к нему силу с заданными в инспекторе параметрами.

**Ключевые поля**
- `rigidbody3D`, `rigidbody2D`: Ссылки на физические компоненты. Если не заданы, скрипт попытается найти их на этом же объекте автоматически.
- `defaultForce`: Величина силы, которая будет применена, если в метод `ApplyForce` не передать другое значение.
- `forceMode3D`, `forceMode2D`: Режим применения силы (`ForceMode`). `Impulse` (импульс) подходит для резких толчков, `Force` (постоянная сила) — для продолжительного ускорения.
- `useVelocityDirection`: Если `true`, направление силы будет взято из текущего направления движения объекта. Если `false`, будет использовано `customDirection`.
- `customDirection`: Пользовательское направление для применения силы, если `useVelocityDirection` отключено.

**Публичные методы (Public Methods)**
- `ApplyForce(float force = 0f, Vector3? direction = null)`: Основной метод компонента. Применяет силу к объекту. Оба параметра опциональны: если `force` не указан, используется `defaultForce`; если `direction` не указан, он рассчитывается на основе настроек в инспекторе.

**Unity Events**
- `OnApplyForce`: Вызывается каждый раз, когда успешно применяется сила.

---

## 3. Пример использования

Этот компонент используется в связке с `AdvancedAttackCollider` для создания отталкивания (knockback) при ударе. 
1.  На объект, который должен отталкиваться (например, на врага), добавляется `AdvancedForceApplier`.
2.  На хитбокс атакующего добавляется `AdvancedAttackCollider`.
3.  В логике `AdvancedAttackCollider` при попадании по врагу он находит на нем компонент `AdvancedForceApplier` и вызывает его метод `ApplyForce`, передавая ему силу и направление удара.
