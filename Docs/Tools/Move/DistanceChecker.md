# Компонент Distance Checker

## 1. Введение

`DistanceChecker` — это простой, но эффективный компонент, который работает как "датчик приближения". Он постоянно измеряет расстояние между двумя объектами и вызывает события, когда один объект входит в заданную зону вокруг другого или покидает ее.

Это очень полезно для создания логики, основанной на расстоянии, без использования физических триггеров. Например, для активации искусственного интеллекта врага, когда игрок подходит достаточно близко, или для запуска диалога при приближении к NPC.

---

## 2. Описание класса

### DistanceChecker
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Move/DistanceChecker.cs`

**Описание**
В каждом кадре компонент вычисляет `Vector3.Distance` между `currentObject` и `targetObject`. Если расстояние становится меньше `distanceThreshold`, вызывается событие `onApproach`. Если оно снова становится больше, вызывается `onDepart`. События вызываются только один раз при пересечении порога.

**Ключевые поля**
- `currentObject` (`Transform`): Трансформ объекта, от которого измеряется расстояние. Если оставить это поле пустым, скрипт автоматически попытается найти `Transform` на том же `GameObject`, где он сам находится (благодаря атрибуту `[GetComponent]`).
- `targetObject` (`Transform`): **Обязательное поле.** Трансформ цели, до которой измеряется расстояние.
- `distanceThreshold` (`float`): Пороговое расстояние. Когда дистанция до цели станет меньше этого значения, сработает `onApproach`.

**Unity Events**
- `onApproach`: Вызывается, когда `targetObject` входит в радиус `distanceThreshold` вокруг `currentObject`.
- `onDepart`: Вызывается, когда `targetObject` покидает этот радиус.

---

## 3. Пример использования

Предположим, вы хотите, чтобы враг начинал атаковать, когда игрок подходит к нему на 10 метров.

1.  На объект врага добавьте компонент `DistanceChecker`.
2.  В поле `targetObject` перетащите объект игрока.
3.  Установите `distanceThreshold` равным `10`.
4.  В инспекторе, в событии `onApproach`, нажмите `+` и привяжите метод, который отвечает за начало атаки у врага.
5.  (Опционально) В событие `onDepart` можно привязать метод, который заставит врага прекратить атаку и вернуться к патрулированию.
