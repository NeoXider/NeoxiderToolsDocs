# Инструмент Health

## 1. Введение

`Health` — это универсальный компонент для управления здоровьем любого игрового объекта. Он отслеживает текущее и максимальное здоровье, обрабатывает получение урона, исцеление и смерть. Компонент также включает в себя настраиваемую систему автоматической регенерации здоровья.

---

## 2. Описание класса

### Health
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Components/AttackSystem/Health.cs`

**Описание**
Реализует систему здоровья для игрового объекта.

**Ключевые особенности**
- **Урон и исцеление**: Предоставляет публичные методы `TakeDamage` и `Heal`.
- **Событие смерти**: Вызывает событие `OnDeath`, когда здоровье падает до нуля.
- **Авто-регенерация**: Может автоматически восстанавливать здоровье с заданной скоростью и количеством.
- **Лимиты**: Позволяет ограничить максимальный урон или исцеление, получаемое за один раз.
- **Интерфейсы**: Реализует интерфейсы `IDamageable`, `IHealable`, `IRestorable` для легкой интеграции с другими системами.

**Публичные методы**
- `SetHeal(int amount, float delay)`: Настраивает параметры авто-регенерации. Возвращает `void`.
- `SetMaxHp(int count, bool restore)`: Устанавливает новое максимальное здоровье и опционально восстанавливает его до максимума. Возвращает `void`.
- `SetHp(int count)`: Напрямую устанавливает текущее количество здоровья. Возвращает `void`.
- `Restore()`: Полностью восстанавливает здоровье до максимума. Возвращает `void`.
- `TakeDamage(int count)`: Наносит урон объекту. Возвращает `void`.
- `Heal(int count)`: Исцеляет объект. Возвращает `void`.

**Unity Events**
- `OnChange`: Вызывается при любом изменении здоровья. Передает `int` (новое значение hp).
- `OnChangePercent`: То же, но передает `float` (процент здоровья от 0 до 1).
- `OnDamage`: Вызывается при получении урона. Передает `int` (количество полученного урона).
- `OnHeal`: Вызывается при исцелении. Передает `int` (количество исцеления).
- `OnDeath`: Вызывается один раз, когда здоровье достигает нуля.
- `OnChangeMaxHp`: Вызывается при изменении максимального здоровья. Передает `int` (новое значение maxHp).
