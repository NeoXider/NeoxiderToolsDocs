# Инструмент Attack Execution

## 1. Введение

`AttackExecution` — это компонент, управляющий логикой и таймингами атаки. Он отвечает за скорость атаки, перезарядку (cooldown) и задержку перед нанесением фактического урона. Компонент работает как простая стейт-машина, позволяя запускать атаку и отслеживать ее фазы.

---

## 2. Описание класса

### AttackExecution
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Components/AttackSystem/AttackExecution.cs`

**Описание**
Менеджер таймингов и состояний для выполнения атаки.

**Ключевые особенности**
- **Скорость атаки**: Позволяет задать скорость атаки, из которой рассчитывается время перезарядки.
- **Авто-атака**: Может автоматически выполнять атаки, как только перезарядка завершилась.
- **Фазы атаки**: Разделяет атаку на несколько фаз с помощью событий: `OnStartAttack` (начало замаха), `OnAttack` (момент удара) и `OnEndAttack` (завершение перезарядки).
- **Контроль состояния**: Позволяет включать и выключать возможность атаковать.

**Публичные методы**
- `Reset()`: Сбрасывает таймер перезарядки, позволяя немедленно атаковать снова. Возвращает `void`.
- `SetCanAttack(bool active)`: Полностью разрешает или запрещает атаковать. Возвращает `void`.
- `Attack()`: Пытается инициировать атаку. Если перезарядка завершена, запускает процесс атаки. Возвращает `bool` (`true`, если атака началась успешно).
- `AttackInvoke()`: Публичный метод-обертка для вызова `Attack()` с кнопок.
- `AttackComplete()`: Вызывается по завершении задержки `delayTimeAttack`, инициируя событие `OnAttack`. Возвращает `void`.

**Unity Events**
- `OnStartAttack`: Вызывается в момент начала атаки (например, для запуска анимации).
- `OnAttack`: Вызывается в момент, когда атака должна нанести урон (после `delayTimeAttack`).
- `OnEndAttack`: Вызывается, когда перезарядка завершена и можно атаковать снова.
