# Компонент Time To Text

## 1. Введение

`TimeToText` — это удобный компонент для отображения значений времени (например, обратного отсчета, прошедшего времени, таймеров) в текстовых элементах `TextMeshProUGUI`. Он позволяет легко форматировать время в различные форматы (секунды, минуты:секунды, часы:минуты:секунды) и добавлять к нему префиксы или суффиксы.

Это идеальное решение для любого UI, где требуется динамическое отображение времени, например, для таймеров в играх, счетчиков времени прохождения уровня или отображения длительности эффектов.

---

## 2. Описание класса

### TimeToText
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Text/TimeToText.cs`

**Описание**
Компонент, который принимает float-значение времени (в секундах) и преобразует его в отформатированную строку, отображая в назначенном `TMP_Text` компоненте. Он также вызывает события при изменении времени и при достижении нуля.

**Ключевые поля**
- `text` (`TMP_Text`): **Обязательное поле.** Ссылка на текстовый компонент, куда будет выводиться время.
- `_zeroText` (`bool`): Если `true`, когда время достигает нуля, будет отображаться "00:00" (или соответствующий формат). Если `false`, текст будет пустым.
- `timeFormat` (`TimeFormat`): Формат отображения времени.
  - `Seconds`: Только секунды.
  - `MinutesSeconds`: Минуты и секунды (например, 01:30).
  - `HoursMinutesSeconds`: Часы, минуты и секунды (например, 01:05:20).
- `startAddText`, `endAddText`: Текст, который будет добавлен до и после значения времени.
- `separator`: Символ, используемый для разделения единиц времени (например, ":" для 01:30).

**Публичные методы (Public Methods)**
- `Set(float time = 0)`: Основной метод. Устанавливает новое значение времени для отображения. При этом вызываются события `OnTimeChanged` и `OnEnd` (если время достигло нуля).

**Unity Events**
- `OnEnd`: Вызывается один раз, когда значение времени, переданное в `Set()`, достигает нуля.
- `OnTimeChanged` (`UnityEvent<float>`): Вызывается каждый раз, когда значение времени, переданное в `Set()`, изменяется. Передает новое значение времени.

**Статические методы**
- `FormatTime(float time, TimeFormat format = TimeFormat.Seconds, string separator = ":")`: Статический вспомогательный метод, который позволяет форматировать время в любом месте кода, не требуя наличия компонента `TimeToText` на сцене.

---

## 3. Как использовать

1.  Добавьте компонент `TextMeshProUGUI` на ваш UI-элемент.
2.  Добавьте компонент `TimeToText` на тот же UI-элемент.
3.  Настройте `timeFormat`, `startAddText`, `endAddText` и `separator` в инспекторе.
4.  Из другого скрипта (например, скрипта, управляющего таймером) вызывайте метод `Set()` в `Update()` или `FixedUpdate()`:

    ```csharp
    // Пример: скрипт таймера
    public TimeToText timerDisplay;
    public float remainingTime = 60f;

    void Update()
    {
        remainingTime -= Time.deltaTime;
        if (remainingTime < 0) remainingTime = 0;

        timerDisplay.Set(remainingTime);
    }
    ```
5.  Подпишитесь на событие `OnEnd` в инспекторе, чтобы выполнить действия, когда таймер достигнет нуля (например, завершить уровень).
