# Кнопка ButtonPrice

## 1. Введение

`ButtonPrice` — это компонент для управления визуальным состоянием кнопок в магазине или любом другом интерфейсе, где у действия есть цена. Он позволяет динамически изменять внешний вид кнопки в зависимости от того, куплен ли товар, выбран ли он или доступен для покупки.

Компонент может автоматически переключать состояния: например, если цена товара становится равной нулю, кнопка "Buy" превратится в "Select".

---

## 2. Описание класса

### ButtonPrice
- **Пространство имен**: `Neo.UI`
- **Путь к файлу**: `Assets/Neoxider/Scripts/UI/View/ButtonPrice.cs`

**Описание**
Управляет визуальным представлением кнопки с ценой, переключая ее между состояниями `Buy`, `Select` и `Selected`.

**Ключевые особенности**
- **Три состояния**: Управляет тремя основными видами кнопки: покупка, выбор и "выбрано".
- **Автоматическое определение типа**: Может сам определить состояние. Например, если цена `0`, состояние `Buy` автоматически сменится на `Select`.
- **Гибкая настройка визуала**: Позволяет задавать разные тексты и включать/выключать массивы `GameObject`'ов для каждого состояния.

**Публичные методы**
- `SetAutoVisual(int price, ButtonType type)`: Устанавливает визуал, автоматически определяя итоговый тип на основе цены. Возвращает `void`.
- `SetVisual(int price, ButtonType type)`: Устанавливает визуал с указанной ценой и типом. Возвращает `void`.
- `SetPrice(int price)`: Упрощенный метод для установки цены и автоматического обновления визуала. Возвращает `void`.
- `SetVisual(ButtonType type)`: Устанавливает визуал по типу. Возвращает `void`.
- `TrySetVisualId(int id)`: Пытается установить визуал по ID, но с дополнительной проверкой (например, не даст выбрать некупленный товар). Возвращает `void`.
- `SetVisualId(int id)`: Напрямую устанавливает визуальное состояние по ID (`0`=Buy, `1`=Select, `2`=Selected). Возвращает `void`.

**Unity Events**
- `OnBuy`: Вызывается, когда для кнопки устанавливается состояние `Buy`.
- `OnSelect`: Вызывается, когда для кнопки устанавливается состояние `Select`.
- `OnSelected`: Вызывается, когда для кнопки устанавливается состояние `Selected`.
